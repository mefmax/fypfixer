# FYPFixer ‚Äì Project Context Snapshot v6 (2025-12-08, 22:52 MSK)

## 0. –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ë–ê–ì–ò (–ù–ê–ô–î–ï–ù–´ –ò –î–û–ö–£–ú–ï–ù–¢–ò–†–û–í–ê–ù–´)

### Bug #1: `app/__init__.py` ‚Äî `return app` –≤ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –º–µ—Å—Ç–µ
- **–°—Ç–∞—Ç—É—Å:** ‚ùå –ö–†–ò–¢–ò–ß–ù–û
- **–û–ø–∏—Å–∞–Ω–∏–µ:** `return app` –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–∏ `index()` –≤–º–µ—Å—Ç–æ –∫–æ–Ω—Ü–∞ `create_app()`, –ø–æ—ç—Ç–æ–º—É `create_app()` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `None`.
- **–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏–µ:** Flask –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ —Å–æ–∑–¥–∞—ë—Ç—Å—è; `main.py` –ø–∞–¥–∞–µ—Ç.
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:** –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å `return app` –Ω–∞ —É—Ä–æ–≤–µ–Ω—å –∫–æ–Ω—Ü–∞ `create_app()` —Ñ—É–Ω–∫—Ü–∏–∏.

### Bug #2: –ú–æ–¥–µ–ª–∏ –Ω–µ –∏–º–ø–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –≤ `app/__init__.py`
- **–°—Ç–∞—Ç—É—Å:** ‚ùå –ö–†–ò–¢–ò–ß–ù–û
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç `from app.models import User, Category, Plan, PlanStep, StepItem`.
- **–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏–µ:** `db.create_all()` –Ω–µ –≤–∏–¥–∏—Ç –º–æ–¥–µ–ª–∏ ‚Üí —Ç–∞–±–ª–∏—Ü—ã –Ω–µ —Å–æ–∑–¥–∞—é—Ç—Å—è.
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å –∏–º–ø–æ—Ä—Ç –≤ –∫–æ–Ω–µ—Ü —Ñ–∞–π–ª–∞ `__init__.py` –ø–µ—Ä–µ–¥ `return app`.

### Bug #3: `models.py` ‚Äî –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç DEFAULT –¥–ª—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –º–µ—Ç–æ–∫
- **–°—Ç–∞—Ç—É—Å:** ‚ùå –ö–†–ò–¢–ò–ß–ù–û
- **–û–ø–∏—Å–∞–Ω–∏–µ:** `created_at`, `updated_at` –Ω–µ –∏–º–µ—é—Ç `default=func.now()`, –ø–æ–ª—è nullable=False.
- **–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏–µ:** INSERT –±–µ–∑ —ç—Ç–∏—Ö –∑–Ω–∞—á–µ–Ω–∏–π –ø–∞–¥–∞–µ—Ç; ORM –Ω–µ –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞—Ç—å –∑–∞–ø–∏—Å–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å `default=func.now()` –∫ –æ–±–æ–∏–º –ø–æ–ª—è–º –≤–æ –≤—Å–µ—Ö –º–æ–¥–µ–ª—è—Ö.

### Bug #4: `plan.py` ‚Äî hardcoded `plan_id=1`
- **–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è –§–£–ù–ö–¶–ò–û–ù–ê–õ–¨–ù–ê–Ø
- **–û–ø–∏—Å–∞–Ω–∏–µ:** `PlanStep.query.filter_by(plan_id=1)` –∂—ë—Å—Ç–∫–æ –∏—â–µ—Ç —Ç–æ–ª—å–∫–æ –ø–µ—Ä–≤—ã–π –ø–ª–∞–Ω.
- **–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏–µ:** –ï—Å–ª–∏ –ø–ª–∞–Ω–∞ —Å id=1 –Ω–µ—Ç ‚Üí –ø—É—Å—Ç–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç.
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:** –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –≤—ã–±–æ—Ä–∫–∞ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ —è–∑—ã–∫—É.

---

## 1. –¢–µ–∫—É—â–∏–π –ø—Ä–æ–µ–∫—Ç FYPFixer (MVP v2)

**–í–µ—Ä—Å–∏—è:** MVP v2 (backend –ø–æ—á—Ç–∏ –≥–æ—Ç–æ–≤, UI —Ä–∞–±–æ—Ç–∞–µ—Ç, –ë–î ‚Äî –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –±–∞–≥–∏)
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-12-08, 22:52 MSK
**–í—Ä–µ–º—è –≤ –ø—Ä–æ–µ–∫—Ç–µ:** ~1.5 —á–∞—Å–∞ —Ä–∞–±–æ—á–µ–≥–æ –¥–Ω—è (—Ö—Ä–æ–Ω–æ–º–µ—Ç—Ä–∞–∂ —Å 20:00 –¥–æ 22:52 —Å –ø–µ—Ä–µ—Ä—ã–≤–∞–º–∏)

---

## 2. –ß—Ç–æ —Ç–∞–∫–æ–µ FYPFixer (–Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ)

**–ò–¥–µ—è:** AI-–ø–æ–º–æ—â–Ω–∏–∫, –∫–æ—Ç–æ—Ä—ã–π –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è —Å –≥–æ—Ç–æ–≤—ã–º–∏ —Å—Å—ã–ª–∫–∞–º–∏ –Ω–∞ TikTok –≤–∏–¥–µ–æ. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ç–æ–ª—å–∫–æ –∂–º—ë—Ç –∫–Ω–æ–ø–∫–∏; FYPFixer ‚Äî –º–æ–∑–≥, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Äî —Ä—É–∫–∏.

**–ú–∏—Å—Å–∏—è:** –î–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –ø—Ä–æ—Å—Ç—ã–µ, AI-powered –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–µ —á–µ–∫-–ª–∏—Å—Ç—ã —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º–∏ —Å—Å—ã–ª–∫–∞–º–∏ –Ω–∞ TikTok –≤–∏–¥–µ–æ.

**–û—Å–Ω–æ–≤–Ω–∞—è —Ü–µ–Ω–Ω–æ—Å—Ç—å:** "Train your TikTok feed in 10 minutes a day. No searching, no thinking‚Äîjust tap and watch."

---

## 3. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

### Backend
- **–§—Ä–µ–π–º–≤–æ—Ä–∫:** Flask + SQLAlchemy (Python 3.11)
- **–≠–Ω–¥–ø–æ–∏–Ω—Ç—ã:**
  - `GET /api/plan?category=personal_growth&lang=en` ‚Üí –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–ª–∞–Ω —Å —à–∞–≥–∞–º–∏ –∏ –≤–∏–¥–µ–æ
  - `GET /api/health` ‚Üí –ø—Ä–æ–≤–µ—Ä–∫–∞ –ë–î/Redis (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è)
- **–ò–Ω—Ç–µ—Ä–Ω–∞—Ü–∏–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è:** Flask-Babel (EN/RU/ES)

### Database
- **PostgreSQL 16** –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ `fypfixer-postgres`
- **–¢–∞–±–ª–∏—Ü—ã:** `users`, `categories`, `plans`, `plan_steps`, `step_items`
- **Redis 7** –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è)

### Frontend
- **Flask —à–∞–±–ª–æ–Ω—ã** + vanilla JS + CSS
- **Mobile-first dark theme**
- **Video player modal** —Å embed iframe
- **"Open in TikTok" button** ‚Üí –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –≤–∏–¥–µ–æ –≤ –Ω–æ–≤–æ–π –≤–∫–ª–∞–¥–∫–µ (‚úÖ –†–ê–ë–û–¢–ê–ï–¢)

### Infrastructure
- **Docker Compose** (web + Postgres + Redis)
- **Dockerfile** —Å Python 3.11, pip install, CMD –¥–ª—è `main.py`
- **Volumes:** `pgdata` –¥–ª—è –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏ –ë–î

---

## 4. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–¥–∞

```
FYPFixer/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py              # ‚ùå BUG: return app –≤ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –º–µ—Å—Ç–µ
‚îÇ   ‚îú‚îÄ‚îÄ models.py                # ‚ùå BUG: no default –¥–ª—è created_at/updated_at
‚îÇ   ‚îî‚îÄ‚îÄ routes/
‚îÇ       ‚îú‚îÄ‚îÄ plan.py              # ‚ö†Ô∏è BUG: hardcoded plan_id=1
‚îÇ       ‚îî‚îÄ‚îÄ health.py
‚îú‚îÄ‚îÄ db/
‚îÇ   ‚îî‚îÄ‚îÄ schema/
‚îÇ       ‚îú‚îÄ‚îÄ db_schema_v0.sql
‚îÇ       ‚îú‚îÄ‚îÄ db_schema_categories_v0.sql
‚îÇ       ‚îú‚îÄ‚îÄ db_schema_step_items_v0.sql
‚îÇ       ‚îî‚îÄ‚îÄ seed_data.sql        # ‚úÖ –°–æ–∑–¥–∞–Ω, –Ω–æ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–∏–º–µ–Ω—ë–Ω
‚îú‚îÄ‚îÄ templates/
‚îÇ   ‚îî‚îÄ‚îÄ index.html               # ‚úÖ UI –≥–æ—Ç–æ–≤, Open in TikTok —Ä–∞–±–æ—Ç–∞–µ—Ç
‚îú‚îÄ‚îÄ static/
‚îÇ   ‚îî‚îÄ‚îÄ images/, css/            # ‚úÖ –°—Ç–∏–ª–∏, –ª–æ–≥–æ—Ç–∏–ø—ã
‚îú‚îÄ‚îÄ docker-compose.yml           # ‚úÖ –ö–æ–Ω—Ñ–∏–≥, DATABASE_URL –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
‚îú‚îÄ‚îÄ Dockerfile                   # ‚úÖ –ö–æ–Ω—Ñ–∏–≥, Python 3.11
‚îú‚îÄ‚îÄ main.py                      # ‚úÖ app.run() –ø—Ä–æ—Å—Ç–æ–π
‚îú‚îÄ‚îÄ requirements.txt             # ‚úÖ Dependencies
‚îî‚îÄ‚îÄ .env                         # ‚úÖ DATABASE_URL=postgresql://...@db:5432/fypfixer
```

---

## 5. –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (‚úÖ / üîÑ / ‚ùå)

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –°—Ç–∞—Ç—É—Å | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ |
|-----------|--------|-----------|
| Flask –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ | ‚ùå **–ù–ï –°–û–ó–î–ê–Å–¢–°–Ø** | Bug #1: return –≤ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –º–µ—Å—Ç–µ |
| –ú–æ–¥–µ–ª–∏ SQLAlchemy | ‚úÖ –û–ø–∏—Å–∞–Ω—ã | –ù–æ –Ω–µ –∏–º–ø–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –≤ app/__init__.py |
| –≠–Ω–¥–ø–æ–∏–Ω—Ç `/api/plan` | ‚úÖ –õ–æ–≥–∏–∫–∞ –Ω–∞–ø–∏—Å–∞–Ω–∞ | –ó–∞–≤–∏—Å–∏—Ç –æ—Ç —Ç–∞–±–ª–∏—Ü –≤ –ë–î |
| –ë–î –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä | ‚úÖ –ó–∞–ø—É—â–µ–Ω | PostgreSQL –ø—É—Å—Ç (—Ç–∞–±–ª–∏—Ü –Ω–µ—Ç) |
| Docker –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | Compose, Dockerfile OK |
| UI/Frontend | ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤ | Open in TikTok —Ä–∞–±–æ—Ç–∞–µ—Ç |
| Video player binding | ‚úÖ –ì–æ—Ç–æ–≤ | `window.open(video_url, '_blank')` |
| –¢–∞–±–ª–∏—Ü—ã –≤ Postgres | ‚ùå **–ù–ï –°–û–ó–î–ê–ù–´** | `db.create_all()` –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–∑-–∑–∞ Bug #1 –∏ #2 |
| –î–µ–º–æ-–¥–∞–Ω–Ω—ã–µ | ‚ùå –ù–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã | seed_data.sql –Ω–µ –º–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω–∏—Ç—å—Å—è –±–µ–∑ —Ç–∞–±–ª–∏—Ü |
| User auth | üîÑ –ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è | Anon client_id (device-based) |
| Real TikTok scraper | ‚ùå –ù–µ—Ç | –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –º–æ–∫-URL, –Ω—É–∂–µ–Ω light scraper |
| AI layer (LLM) | ‚ùå –ù–µ—Ç | –ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è sonar-pro –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è |
| Premium tier | ‚ùå –ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω | is_premium —Ñ–ª–∞–≥ –≤ DB, –ª–æ–≥–∏–∫–∞ ‚Äî –Ω–µ—Ç |

---

## 6. –ü–ª–∞–Ω –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è (–∑–∞–≤—Ç—Ä–∞, ~30 –º–∏–Ω –≤ –æ–¥–∏–Ω –ø—Ä–æ—Ö–æ–¥)

### **–ò—Ç–µ—Ä–∞—Ü–∏—è 1: –ò—Å–ø—Ä–∞–≤–∏—Ç—å –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –±–∞–≥–∏ (15 –º–∏–Ω)**

1. **app/__init__.py** (5 –º–∏–Ω)
   - –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å `return app` –≤ –∫–æ–Ω–µ—Ü `create_app()` (—Å–µ–π—á–∞—Å –≤–Ω—É—Ç—Ä–∏ `index()`)
   - –î–æ–±–∞–≤–∏—Ç—å `from app.models import User, Category, Plan, PlanStep, StepItem` –≤ –∫–æ–Ω–µ—Ü —Ñ–∞–π–ª–∞

2. **models.py** (3 –º–∏–Ω)
   - –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å `from sqlalchemy.sql import func`
   - –î–æ–±–∞–≤–∏—Ç—å `default=func.now()` –∫ `created_at` –∏ `updated_at` –≤–æ –≤—Å–µ—Ö –º–æ–¥–µ–ª—è—Ö

3. **plan.py** (5 –º–∏–Ω)
   - –£–±—Ä–∞—Ç—å hardcoded `plan_id=1`
   - –ü–µ—Ä–µ–¥–µ–ª–∞—Ç—å –≤—ã–±–æ—Ä–∫—É –Ω–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫—É—é –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (–ø–æ–∫–∞ –¥–µ–º–æ: –ø–µ—Ä–≤—ã–π –ø–ª–∞–Ω –¥–ª—è –ª—é–±–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏)

### **–ò—Ç–µ—Ä–∞—Ü–∏—è 2: –°–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—ã –∏ –∑–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ (15 –º–∏–Ω)**

4. **–°–æ–∑–¥–∞—Ç—å `db/schema/schema.sql`** (7 –º–∏–Ω)
   - CREATE TABLE –¥–ª—è –≤—Å–µ—Ö 5 —Ç–∞–±–ª–∏—Ü: users, categories, plans, plan_steps, step_items
   - WITH constraints –∏ foreign keys
   - –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: –æ–¥–∏–Ω —Ä–∞–∑ –≤—ã–∑–≤–∞—Ç—å `db.create_all()` –∏–∑ Python (–Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–æ–¥–∞)

5. **–ü—Ä–∏–º–µ–Ω–∏—Ç—å —Å—Ö–µ–º—É –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä** (3 –º–∏–Ω)
   ```bash
   docker compose exec db psql -U fypfixer -d fypfixer -f /path/to/schema.sql
   ```

6. **–ó–∞–≥—Ä—É–∑–∏—Ç—å seed-–¥–∞–Ω–Ω—ã–µ** (3 –º–∏–Ω)
   ```bash
   cat db/schema/seed_data.sql | docker compose exec -T db psql -U fypfixer -d fypfixer
   ```

7. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å `\dt` –≤ Postgres** (2 –º–∏–Ω)
   - –î–æ–ª–∂–Ω–æ –±—ã—Ç—å 5 —Ç–∞–±–ª–∏—Ü + –¥–∞–Ω–Ω—ã–µ

### **–ò—Ç–µ—Ä–∞—Ü–∏—è 3: –¢–µ—Å—Ç (5 –º–∏–Ω)**

8. **–ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å Docker**
   ```bash
   docker compose build web
   docker compose up -d
   ```

9. **–¢–µ—Å—Ç –≤ –±—Ä–∞—É–∑–µ—Ä–µ**
   ```
   http://localhost:8000/api/plan?category=personal_growth&lang=en
   ```
   - –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å JSON —Å steps –∏ items —Å `video_url`

10. **Git –∫–æ–º–º–∏—Ç**
    ```bash
    git add -A
    git commit -m "fix: critical bugs in __init__.py, models.py, plan.py; schema ready for production"
    git push
    ```

---

## 7. –¶–µ–ª–µ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

| –ß—Ç–æ | –°—Ç–∞—Ç—É—Å |
|-----|--------|
| Flask –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ | ‚úÖ –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è |
| –ë–î —Ç–∞–±–ª–∏—Ü—ã | ‚úÖ –°–æ–∑–¥–∞–Ω—ã (5 —à—Ç—É–∫) |
| –î–∞–Ω–Ω—ã–µ –≤ –ë–î | ‚úÖ –ó–∞–≥—Ä—É–∂–µ–Ω—ã (–¥–µ–º–æ) |
| `/api/plan` | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç, –æ—Ç–¥–∞—ë—Ç video_url |
| –§—Ä–æ–Ω—Ç + Open in TikTok | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç, –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –≤–∏–¥–µ–æ |
| –ó–∞–∫—Ä—ã—Ç—ã–π —Ç–µ—Å—Ç | ‚úÖ –ì–æ—Ç–æ–≤ –∫ –∑–∞–ø—É—Å–∫—É –∑–∞ 2‚Äì4 –Ω–µ–¥–µ–ª–∏ |

---

## 8. –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ (–ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è)

### Week 2‚Äì3 (—Å–µ—Å—Å–∏–∏ 2‚Äì3)
- Multi-video cards UI (5h): Show all videos from items[], navigation buttons
- Basic user actions tracking (5h): UI checkboxes for step completion, simple progress bar
- Real or semi-real video data (7h): CSV seed or manual + light scraper for top TikTok trends

### By Week 3 (Beta Launch)
- Closed test with 5‚Äì10 real users (EN-speaking, personal growth interested)
- Collect feedback: What hooks? What friction? Why churn?
- Iterate: Polish UX, fix bugs, tweak category/video selection

### Longer-term
- AI layer (sonar-pro + LLM for curation)
- Premium tier logic + monetization
- ES/RU localization
- Real TikTok scraper or API integration

---

## 9. –†–æ–ª–∏ –∏ –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏

**–Ø (–º–æ–∑–≥/–∞—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä):**
- –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ, –∞–Ω–∞–ª–∏–∑, –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫
- –ö–æ–¥ reviews –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
- –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ —Å —Ç–æ—á–Ω—ã–º–∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏

**–¢—ã (—Ä—É–∫–∏/–∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å):**
- –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥ –≤ PowerShell/VS Code
- –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ –≤ —Ñ–∞–π–ª—ã
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (—Å–∫—Ä–∏–Ω—ã, –ª–æ–≥–∏)
- Max 2 —á–∞—Å–∞ –≤ –¥–µ–Ω—å, ~1.5h/day –ø–æ —Ñ–∞–∫—Ç—É

---

## 10. –°–≤–æ–¥–∫–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫

| –û—à–∏–±–∫–∞ | –§–∞–π–ª | –¢–∏–ø | –ü—Ä–∏—á–∏–Ω–∞ | –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ |
|--------|------|-----|---------|-------------|
| return app –≤–Ω—É—Ç—Ä–∏ index() | app/__init__.py | –°–¢–†–£–ö–¢–£–†–ù–ê–Ø | –ù–µ–≤–µ—Ä–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ—É–Ω–∫—Ü–∏–∏ | –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å return app –≤ –∫–æ–Ω–µ—Ü create_app() |
| –ú–æ–¥–µ–ª–∏ –Ω–µ –∏–º–ø–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è | app/__init__.py | –ò–ú–ü–û–†–¢ | –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç import statement | –î–æ–±–∞–≤–∏—Ç—å from app.models import ... |
| –ù–µ—Ç default –¥–ª—è timestamps | models.py | –ë–î/ORM | Nullable=False –±–µ–∑ default | –î–æ–±–∞–≤–∏—Ç—å default=func.now() |
| Hardcoded plan_id=1 | plan.py | –§–£–ù–ö–¶–ò–û–ù–ê–õ–¨–ù–ê–Ø | –ñ—ë—Å—Ç–∫–∞—è –ø—Ä–∏–≤—è–∑–∫–∞ | –ü–µ—Ä–µ–¥–µ–ª–∞—Ç—å –Ω–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫—É—é –≤—ã–±–æ—Ä–∫—É |

---

## 11. –†–∏—Å–∫–∏ –∏ mitigation

| –†–∏—Å–∫ | –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å | Mitigation |
|------|-------------|-----------|
| Docker build –ø–∞–¥–∞–µ—Ç –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π | LOW | –ü—Ä–æ–≤–µ—Ä–∏–º requirements.txt –∏ import paths |
| –¢–∞–±–ª–∏—Ü—ã –≤—Å—ë –µ—â—ë –Ω–µ —Å–æ–∑–¥–∞—é—Ç—Å—è | LOW | –°–¥–µ–ª–∞–µ–º —Å—ã—Ä–æ–π SQL –≤–º–µ—Å—Ç–æ ORM create_all |
| seed_data.sql –∏–º–µ–µ—Ç —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ | MEDIUM | –ü—Ä–æ–≤–µ—Ä–∏–º SQL, —Ç–µ—Å—Ç–∏—Ä—É–µ–º –≤ psql –Ω–∞–ø—Ä—è–º—É—é |
| /api/plan –≤—Å—ë –µ—â—ë –ø–∞–¥–∞–µ—Ç –Ω–∞ –ø—É—Å—Ç—ã—Ö –¥–∞–Ω–Ω—ã—Ö | LOW | –î–æ–±–∞–≤–∏–º fallback –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ |
| –ú–æ–¥–µ–ª–∏ –∏–º–µ—é—Ç –¥—Ä—É–≥–∏–µ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –±–∞–≥–∏ | MEDIUM | –ü–æ–ª–Ω—ã–π code review –ø–µ—Ä–µ–¥ apply |

---

## 12. –§–∞–π–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ –ù–£–ñ–ù–û –ò–ó–ú–ï–ù–ò–¢–¨

1. ‚úèÔ∏è `app/__init__.py` ‚Äî –ö–†–ò–¢–ò–ß–ù–û (–∏—Å–ø—Ä–∞–≤–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É return)
2. ‚úèÔ∏è `app/models.py` ‚Äî –ö–†–ò–¢–ò–ß–ù–û (–¥–æ–±–∞–≤–∏—Ç—å default=func.now())
3. ‚úèÔ∏è `app/routes/plan.py` ‚Äî –í–´–°–û–ö–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (—É–±—Ä–∞—Ç—å hardcoded plan_id=1)
4. ‚úèÔ∏è `db/schema/schema.sql` ‚Äî –°–û–ó–î–ê–¢–¨ –ù–û–í–´–ô —Ñ–∞–π–ª (–µ—Å–ª–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å create_all)
5. ‚úèÔ∏è `db/schema/seed_data.sql` ‚Äî –£—Ç–æ—á–Ω–∏—Ç—å/–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç schema.sql)

---

## 13. –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –∑–∞–≤—Ç—Ä–∞ (–ø–æ –æ—á–µ—Ä–µ–¥–∏)

```bash
# 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∞–π–ª–æ–≤ (—É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω—ã)
code app/__init__.py
code app/models.py
code app/routes/plan.py

# 2. –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫
docker compose down -v
docker compose build web
docker compose up -d

# 3. –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü (–≤–∞—Ä–∏–∞–Ω—Ç 1: —á–µ—Ä–µ–∑ Python)
docker compose exec -T web python -c "from app import create_app, db; app = create_app(); app.app_context().push(); db.create_all(); print('Tables created')"

# 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∞–±–ª–∏—Ü
docker compose exec -T db psql -U fypfixer -d fypfixer -c "\dt"

# 5. –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö
cat db/schema/seed_data.sql | docker compose exec -T db psql -U fypfixer -d fypfixer

# 6. –¢–µ—Å—Ç API
curl http://localhost:8000/api/plan?category=personal_growth&lang=en

# 7. –ö–æ–º–º–∏—Ç
git add -A
git commit -m "fix: critical bugs, schema ready"
git push
```

---

## 14. –ß–µ–∫-–ª–∏—Å—Ç –¥–ª—è –∑–∞–≤—Ç—Ä–∞

- [ ] –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –±–∞–≥–∏ –≤ `__init__.py`, `models.py`, `plan.py`
- [ ] Docker –ø–µ—Ä–µ—Å–æ–±—Ä–∞–Ω –∏ –∑–∞–ø—É—â–µ–Ω —É—Å–ø–µ—à–Ω–æ
- [ ] –¢–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã –≤ Postgres (`\dt` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç 5 —Ç–∞–±–ª–∏—Ü)
- [ ] –î–µ–º–æ-–¥–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã (seed_data.sql –≤—ã–ø–æ–ª–Ω–µ–Ω –±–µ–∑ –æ—à–∏–±–æ–∫)
- [ ] `/api/plan` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç JSON —Å `steps` –∏ `video_url`
- [ ] –§—Ä–æ–Ω—Ç –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –≤–∏–¥–µ–æ –≤ –Ω–æ–≤–æ–π –≤–∫–ª–∞–¥–∫–µ –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ "Open in TikTok"
- [ ] –ö–æ–º–º–∏—Ç –≤ git —Å —Å–æ–æ–±—â–µ–Ω–∏–µ–º –æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–∏
- [ ] PROJECT_CONTEXT_v6.md –æ–±–Ω–æ–≤–ª—ë–Ω –∏ —Å–æ—Ö—Ä–∞–Ω—ë–Ω –≤ repo

---

## 15. –ò—Å—Ç–æ—Ä–∏—è —Å–µ—Å—Å–∏–∏ –∏ insights

**20:00 MSK:** –ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã, –ø—Ä–æ–≤–µ—Ä–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è (Docker, Python, Git) ‚úÖ
**20:30 MSK:** UI binding –≤–∏–¥–µ–æ –∫ –∫–Ω–æ–ø–∫–µ "Open in TikTok" ‚úÖ (—Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –Ω–æ–≤–æ–π –≤–∫–ª–∞–¥–∫–µ)
**21:00 MSK:** –ü–æ–ø—ã—Ç–∫–∞ —Å–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—ã —á–µ—Ä–µ–∑ `db.create_all()` ‚ùå (–º–æ–¥–µ–ª–∏ –Ω–µ –∏–º–ø–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è)
**21:30 MSK:** –ê–Ω–∞–ª–∏–∑ –ø—Ä–∏—á–∏–Ω ‚Äî –Ω–∞–π–¥–µ–Ω—ã Bug #1 –∏ #2 –≤ `__init__.py`
**21:45 MSK:** –î–æ–±–∞–≤–ª–µ–Ω—ã –º–æ–¥–µ–ª–∏ `User` –∏ `Plan` –≤ `models.py` ‚úÖ (–Ω–æ –ø—Ä–æ–±–ª–µ–º—ã persisted)
**22:00 MSK:** –ì–ª—É–±–æ–∫–∏–π –∞–Ω–∞–ª–∏–∑ –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤ ‚Äî –æ–±–Ω–∞—Ä—É–∂–µ–Ω—ã Bug #3 –∏ #4
**22:30 MSK:** –î–µ—Ç–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ –±–∞–≥–∞, –ø–ª–∞–Ω –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è, –∫–æ–Ω—Ç–µ–∫—Å—Ç v6 —Å–æ–∑–¥–∞–Ω
**22:52 MSK:** –ò—Ç–æ–≥–∏ —Å–µ—Å—Å–∏–∏ –∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –∑–∞–≤—Ç—Ä–∞—à–Ω–µ–π –±—ã—Å—Ç—Ä–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏

**–í—ã—É—á–µ–Ω–Ω—ã–µ —É—Ä–æ–∫–∏:**
1. –í–∞–∂–Ω–æ—Å—Ç—å –ø–æ–ª–Ω–æ–≥–æ code review –ø–µ—Ä–µ–¥ apply
2. SQLAlchemy —Ç—Ä–µ–±—É–µ—Ç —è–≤–Ω–æ–≥–æ –∏–º–ø–æ—Ä—Ç–∞ –º–æ–¥–µ–ª–µ–π –¥–ª—è create_all()
3. ORM –ø–æ–ª—è —Å nullable=False —Ç—Ä–µ–±—É—é—Ç default values –∏–ª–∏ —è–≤–Ω–æ–≥–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–∏ insert
4. –°—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–µ –æ—à–∏–±–∫–∏ (return –≤ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –º–µ—Å—Ç–µ) –º–æ–≥—É—Ç —Å–∫—Ä—ã–≤–∞—Ç—å –¥—Ä—É–≥–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

---

**–í—Ä–µ–º—è –Ω–∞ –ø—Ä–æ–µ–∫—Ç –¥–æ —Å–∏—Ö –ø–æ—Ä:** ~1.5 —á–∞—Å–∞ (—Å–µ–≥–æ–¥–Ω—è—à–Ω—è—è —Å–µ—Å—Å–∏—è —Å 20:00 –¥–æ 22:52)
**–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –∑–∞–∫—Ä—ã—Ç–æ–º—É —Ç–µ—Å—Ç—É –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:** 70% (–æ—Å—Ç–∞—Ç–æ–∫: —Ä–µ–∞–ª—å–Ω—ã–µ –≤–∏–¥–µ–æ, AI —Å–ª–æ–π, –ø–æ–ª–∏—Ä–æ–≤–∫–∞ UX)
**–¢–∞–π–º–∫–æ—É—á–∏–Ω–≥ –Ω–∞ –∑–∞–∫—Ä—ã—Ç—ã–π —Ç–µ—Å—Ç:** 2‚Äì4 –Ω–µ–¥–µ–ª–∏ (–ø–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É –ø—Ä–æ–µ–∫—Ç–∞)
**–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å:** HIGH (–Ω–∞–π–¥–µ–Ω—ã –∏ –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã –≤—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –±–∞–≥–∏, –≥–æ—Ç–æ–≤ –ø–ª–∞–Ω –Ω–∞ 30 –º–∏–Ω)
